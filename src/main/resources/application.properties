# Load secrets.properties optionally, so local secrets override defaults
spring.config.import=optional:file:./secrets.properties

# Server config
server.port=${SERVER_PORT:8080}
server.forward-headers-strategy=framework
spring.application.name=forkmyfolio-backend

# Datasource (use env or secrets)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/forkmyfolio_db?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.open-in-view=false

# JWT and Cookies
jwt.secret=${JWT_SECRET_KEY}
jwt.expiration.ms=${JWT_EXPIRATION_MS:3600000}
jwt.refresh.expiration.ms=${JWT_REFRESH_EXPIRATION_MS:604800000}
app.jwt.refresh-cookie-name=refreshToken
app.cookie.secure=${APP_COOKIE_SECURE:true}
app.cookie.samesite=${APP_COOKIE_SAMESITE:Lax}
app.security.cookie-domain=${APP_SECURITY_COOKIE_DOMAIN}
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS}

# Default Admin
app.default-admin.email=admin@gmail.com
app.default-admin.password=${DEFAULT_ADMIN_PASSWORD}
app.default-admin.first-name=Your-First-Name
app.default-admin.last-name=Your-Last-Name

# Swagger/OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Logging: reduce noise
logging.level.org.hibernate.SQL=OFF
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=OFF
logging.level.org.hibernate.hql.internal.ast.AST=OFF
logging.level.org.hibernate.engine.jdbc.spi.SqlStatementLogger=OFF
logging.level.org.hibernate.orm.jdbc.bind=OFF
logging.level.org.hibernate.orm.jdbc.extract=OFF
